/*
 * Copyright 2017 Republic of Reinvention bvba. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

//-----IMPORTS-----
@import (reference) "/assets/webjars/bootstrap/3.3.4/less/variables.less";
@import (reference) "/assets/webjars/bootstrap/3.3.4/less/mixins.less";
@import (reference) "/assets/webjars/bootstrap/3.3.4/less/forms.less";

@import (reference) "/assets/webjars/font-awesome/4.3.0/less/variables.less";
@import (reference) "/assets/webjars/font-awesome/4.3.0/less/core.less";
@import (reference) "/assets/webjars/font-awesome/4.3.0/less/mixins.less";

@import (reference) "/assets/blocks/imports/commons/styles/main.less";

@import (reference) "/constants/blocks/core?type=less";
@import (reference) "/constants/blocks/imports/fact?type=less";

//-----STYLES-----
blocks-fact-entry {

  .make-row();
  .clearfix();//doesn't seem to be inherited from make-row well...

  margin-top: 15px;
  //note: don't add a bottom margin, so we can easily re-style the doubles
  margin-bottom: 0px;

  &:first-of-type {
    margin-top: 5px;
  }

  //create a padding with a (possible) column border
  &:last-of-type {
    margin-bottom: 15px;
  }

  [property='@{FACT_ENTRY_NAME_PROPERTY}'],
  [data-property='@{FACT_ENTRY_NAME_PROPERTY}']{
    .make-md-column(4);
    font-weight: bold;

    p:last-child {
      margin-bottom: 0;
    }
  }

  [property='@{FACT_ENTRY_VALUE_PROPERTY}'],
  [data-property='@{FACT_ENTRY_VALUE_PROPERTY}']{
    .make-md-column(8);

    p:last-child {
      margin-bottom: 0;
    }

    // This syncs the look of the placeholder of all other widgets
    // with the placeholder of the editor (see .blocks-empty-text-placeholder())
    .@{WIDGET_TYPE_IMMUTABLE}:not([content]), .@{WIDGET_TYPE_IMMUTABLE}[content=''],
    .@{WIDGET_TYPE_ENUM}:not([content]), .@{WIDGET_TYPE_ENUM}[content=''],
    .@{WIDGET_TYPE_COLOR}:not([content]), .@{WIDGET_TYPE_COLOR}[content=''],
    .@{WIDGET_TYPE_DATE}:not([content]), .@{WIDGET_TYPE_DATE}[content=''],
    .@{WIDGET_TYPE_TIME}:not([content]), .@{WIDGET_TYPE_TIME}[content=''],
    .@{WIDGET_TYPE_DATETIME}:not([content]), .@{WIDGET_TYPE_DATETIME}[content=''],
    .@{WIDGET_TYPE_DURATION}:not([content]), .@{WIDGET_TYPE_DURATION}[content=''],
    .@{WIDGET_TYPE_NUMBER}:not([content]), .@{WIDGET_TYPE_NUMBER}[content=''],
    .@{WIDGET_TYPE_URI}:not([resource]), .@{WIDGET_TYPE_URI}[resource=''],
    .@{WIDGET_TYPE_RESOURCE}:not([resource]), .@{WIDGET_TYPE_RESOURCE}[resource=''],
    .@{WIDGET_TYPE_OBJECT}.@{COMMONS_EMPTY_CLASS},
      // note: the selector below is when no property has been selected yet (freshly created)
    .@{FACT_ENTRY_PROPERTY_CLASS}:not([property]), .@{FACT_ENTRY_PROPERTY_CLASS}[property=''] {
      .opacity(0.65);
    }

    .@{WIDGET_TYPE_BOOLEAN} {
      .@{WIDGET_TYPE_BOOLEAN_VALUE_CLASS} {
        .fa-icon();
      }
      &[content='false'] {
        .@{WIDGET_TYPE_BOOLEAN_VALUE_CLASS}:before {
          //content: @fa-var-times;
          //content: @fa-var-minus;
          //content: '-';//dash
          content: '\2013';//ndash (longer dash)
        }
      }
      &[content='true'] {
        .@{WIDGET_TYPE_BOOLEAN_VALUE_CLASS}:before {
          content: @fa-var-check;
        }
      }
    }

    .@{WIDGET_TYPE_EDITOR},
    .@{WIDGET_TYPE_INLINE_EDITOR} {
        &.@{COMMONS_EMPTY_CLASS} {
          .blocks-empty-text-placeholder();
        }
    }

    .@{WIDGET_TYPE_COLOR_VALUE_CLASS} {
      width: 12px;
      height: 12px;
      border: 1px solid #F0F0F0;
      line-height: 100%;
      margin: 5px auto 5px 0;
    }

    .@{WIDGET_TYPE_TIME_TZONE_CLASS} {
      font-size: 0.8em;
      padding-left: 0.5em;
    }

    .@{WIDGET_TYPE_RESOURCE} {
      a {
        //make sure the contents of the link is fully wrapped by this container
        display: inline-block;

        img {
          //make sure the image of a resource doesn't grow all the way when it's huge
          max-width: 100%;
        }
      }
    }

    .@{WIDGET_TYPE_OBJECT} {
      & > .@{FACT_ENTRY_MAINPROP_CLASS} {
        //hide the label of the main property (the label of the object acts as the label)
        label {
          display: none;
        }
      }
    }

  }
}